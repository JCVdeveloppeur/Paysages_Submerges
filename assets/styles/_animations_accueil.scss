@use "variables" as *;
@use "mixins" as *;

// --- BULLES ---
.bubbles-container {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 100px;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;

  .bubble {
    position: absolute;
    bottom: -20px;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 50%;
    opacity: 0;
    animation: bubble-drift 25s ease-in infinite;

    &::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      box-shadow: 0 0 6px rgba(255, 255, 255, 0.7);
    }
  }
}

@keyframes bubble-drift {
  0% { transform: translate(0, 0) scale(0.8); opacity: 0; }
  10% { opacity: 0.6; }
  50% { transform: translateX(-10px) translateY(-210px) scale(1.1); opacity: 1; }
  75% { transform: translateX(10px) translateY(-436px) scale(1.1); }
  100% { transform: translateX(-5px) translateY(-450px) scale(1.4); opacity: 0; }
}

// --- BANNIÈRE ---
.banner,
.banner.accueil-page {
  position: relative;
  z-index: 0;
  overflow: hidden;
  height: 450px;
}

.banner-content {
  position: relative;
  z-index: 5;
  text-align: center;
  color: white;
}

// --- POISSONS SVG + BANCS ---
.fish-group {
  position: absolute;
  width: 100%;
  pointer-events: none;
  z-index: 2;

  .fish-wrapper {
    position: absolute;
    top: 0;
    transform: translateX(-120vw);
    opacity: 0;
    animation: swim-horizontal 60s linear infinite;
    animation-fill-mode: both;
    backface-visibility: hidden;
    overflow: visible;
  }

  .fish-icon {
    width: 64px;
    height: auto;
    animation: swim-vertical 4s ease-in-out infinite;
    opacity: 0.9;
    pointer-events: none;
    background: none !important;
    overflow: visible;
  }

  .size-sm { transform: scale(1); }
  .size-md { transform: scale(1.3); }
  .size-lg { transform: scale(1.6); }

  @for $i from 0 through 11 {
    .delay-#{$i} {
      animation-delay: #{1.5 * $i}s;
    }
    .delay-undulation-#{$i} {
      animation-delay: #{0.3 * $i}s, #{1.3 + 0.2 * $i}s;
    }
  }

  .blur {
  filter: blur(0.8px) brightness(0.9) saturate(0.85);
  opacity: 0.5;
  transform: scale(0.95); // léger éloignement visuel
}
}

@keyframes swim-horizontal {
  0%   { transform: translateX(-120vw); opacity: 0; }
  10%  { opacity: 1; }
  90%  { opacity: 1; }
  100% { transform: translateX(120vw); opacity: 0; }
}

@keyframes swim-vertical {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-6px); }
}

// --- Anguille ---
.fish-icon.anguille {
  animation: swim-horizontal 60s linear infinite, kuhli-undulate 3.2s cubic-bezier(0.55, 0.085, 0.68, 0.53) infinite;
  transform-origin: center;
}

@keyframes kuhli-undulate {
  0%   { transform: translateY(0px) rotate(0deg); }
  10%  { transform: translateY(1px) rotate(1.2deg); }
  25%  { transform: translateY(-0.5px) rotate(-2deg); }
  50%  { transform: translateY(1px) rotate(2.5deg); }
  75%  { transform: translateY(-0.5px) rotate(-1.5deg); }
  100% { transform: translateY(0px) rotate(0deg); }
}

@for $i from 0 through 10 {
  .delay-undulation-#{$i} {
    animation-delay: #{0.2 * $i}s;
  }
}

// --- Poisson rayé ---
.striped-swim {
  animation: striped-swim-vertical 5.5s ease-in-out infinite;
}

@keyframes striped-swim-vertical {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  25%      { transform: translateY(-10px) rotate(-2deg); }
  50%      { transform: translateY(0) rotate(1deg); }
  75%      { transform: translateY(10px) rotate(-1deg); }
}

.tail-wiggle {
  transform-origin: 28px 25px;
  animation: tail-wiggle 1s ease-in-out infinite;
}

@keyframes tail-wiggle {
  0%, 100% { transform: rotate(0deg); }
  50%      { transform: rotate(10deg); }
}
.fish-wrapper {
  position: absolute;
  cursor: default;
  transition: transform 0.5s ease-out;
  z-index: 5;
}

// --- CREVETTES TRANSLUCIDES BOOSTÉES ---
.shrimp-group {
  position: absolute;
  bottom: 60px; // ↑↑↑ On les remonte un peu
  left: 0;
  width: 100%;
  height: 160px; // plus grand pour qu’elles aient la place de danser
  pointer-events: none;
  z-index: 3;
  overflow: visible;

  .shrimp {
    position: absolute;
    width: 55px;
    height: auto;
    opacity: 0.75;
    animation: shrimp-dance 12s ease-in-out infinite;
    transform-origin: center;

    path {
      fill: rgba(255, 255, 255, 0.5);
      stroke: rgba(200, 230, 255, 0.8);
      stroke-width: 1.5;
    }

    line {
      stroke: rgba(200, 230, 255, 0.8);
      stroke-width: 1;
    }

    .shrimp-antenna {
      stroke: rgba(200, 230, 255, 0.6);
      stroke-width: 1;
    }
  }

  // Position ajustée
  .shrimp-3 { animation-delay: 4s; left: 33%; bottom: 30px; }
  .shrimp-4 { animation-delay: 2.5s; left: 65%; bottom: 42px; }
  .shrimp-5 { animation-delay: 1.8s; left: 77%; bottom: 46px; }
  .shrimp-6 { animation-delay: 3.2s; left: 85%; bottom: 38px; }
  .shrimp-7 { animation-delay: 0.7s; left: 54%; bottom: 28px; }
  .shrimp-8 { animation-delay: 5s; left: 40%; bottom: 34px; }
  .shrimp-9 { animation-delay: 1.2s; left: 18%; bottom: 26px; }
}


@keyframes shrimp-dance {
  0%, 100% {
    transform: translateX(0) translateY(0) scale(1) rotate(0deg);
    opacity: 0.5;
  }
  25% {
    transform: translateX(-10px) translateY(-5px) scale(1.1) rotate(-3deg);
    opacity: 0.7;
  }
  50% {
    transform: translateX(10px) translateY(10px) scale(1.2) rotate(2deg);
    opacity: 0.9;
  }
  75% {
    transform: translateX(-5px) translateY(-8px) scale(1.05) rotate(-2deg);
    opacity: 0.7;
  }
}






































