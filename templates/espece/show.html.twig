{% extends 'base.html.twig' %}

{% block title %}Fiche espèce - {{ espece.nomCommun }}{% endblock %}

{# Applique le fond dégradé #}
{% block body_class %}degrade-aquatique-body{% endblock %}

{% block body %}
<div class="fiche-espece mt-5 mb-5">

    <a href="{{ path('espece_public_index') }}" class="btn btn-retour btn-sm mb-4">
        ← Retour à la liste des espèces
    </a>

    <div class="text-center mb-4">
        <h1 class="display-5 fw-bold">{{ espece.nomCommun }}</h1>
        <p class="fst-italic text-muted">({{ espece.nomScientifique }})</p>
    </div>

    {% if espece.imageName %}
        <div class="text-center mb-4">
        <img src="{{ asset('uploads/especes/' ~ espece.imageName) }}" alt="{{ espece.nomCommun }}"
         class="img-fluid image-espece">

        <small class="photo-caption d-block mt-2 text-muted fst-italic">
        {{ espece.nomCommun }} dans son habitat naturel
        </small>
        </div>

    {% endif %}

    <div class="row g-4">
        <div class="col-md-6">
            <h2 class="physique">Description physique</h2>
            <div class="section">{{ espece.descriptionPhysique|nl2br }}</div>

            <h2 class="comportement">Comportement</h2>
            <div class="section">{{ espece.comportement|nl2br }}</div>

            <h2 class="alimentation">Alimentation</h2>
            <div class="section">{{ espece.alimentation|nl2br }}</div>
        </div>

        <div class="col-md-6">
            <h2 class="reproduction">Reproduction</h2>
            <div class="section">{{ espece.reproduction|nl2br }}</div>

            <h2 class="eau">Paramètres de l'eau</h2>
            <div class="parametres-eau">
                <ul class="list-unstyled mb-0">
                    <li><strong>Température :</strong> {{ espece.temperatureMin ?? 'N/A' }} - {{ espece.temperatureMax ?? 'N/A' }} °C</li>
                    <li><strong>pH :</strong> {{ espece.phMin ?? 'N/A' }} - {{ espece.phMax ?? 'N/A' }}</li>
                    <li><strong>GH :</strong> {{ espece.ghMin ?? 'N/A' }} - {{ espece.ghMax ?? 'N/A' }}</li>
                </ul>
            </div>

            <h2 class="infos">Informations complémentaires</h2>
            <div class="infos-complementaires">
                <ul class="list-unstyled mb-0">
                    <li><strong>Taille minimale du bac :</strong> {{ espece.tailleMinimaleBac ?? 'N/A' }} L</li>
                    <li><strong>Durée de vie :</strong> {{ espece.dureeVie ?? 'N/A' }} ans</li>
                    <li><strong>Biotope :</strong> {{ espece.biotope ?? 'N/A' }}</li>
                    <li><strong>Type :</strong>
                        <span class="badge-type">{{ espece.typeEspece ?? 'N/A' }}</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    {% if is_granted('ROLE_ADMIN') %}
        <div class="mt-5 text-end">
            <a href="{{ path('espece_edit', {'id': espece.id}) }}" class="btn btn-outline-warning me-2">
                ✏️ Modifier
            </a>
            {{ include('espece/_delete_form.html.twig') }}
        </div>
    {% endif %}
</div>
{% endblock %}






